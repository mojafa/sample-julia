
FROM mcr.microsoft.com/devcontainers/base:ubuntu-22.04

# Install system dependencies
RUN apt-get update && apt-get install -y \
    curl \
    wget \
    git \
    build-essential \
    && rm -rf /var/lib/apt/lists/*

# Install juliaup
RUN curl -fsSL https://install.julialang.org | sh -s -- --yes

# Add juliaup to PATH
ENV PATH="/root/.juliaup/bin:${PATH}"

# Install specific Julia version using juliaup and set as default
RUN juliaup add 1.10 && \
    juliaup default 1.10

    # Symlink Julia to /usr/local/bin to make it globally accessible
RUN ln -s /root/.juliaup/bin/julia /usr/local/bin/julia

# Install Julia packages globally and verify Julia installation
RUN julia --startup-file=no -e 'using Pkg; \
    Pkg.add(["PkgTemplates", "JuliaFormatter"]); \
    Pkg.precompile()' && \
    julia --version

    